<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ทีวีออนไลน์ รวมลิงก์ดูทีวี กีฬา และหนังออนไลน์ในที่เดียว">
    <meta name="keywords" content="ทีวีออนไลน์, ดูหนัง, กีฬา, YouTube">
    <title>DS & ทีวีออนไลน์</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KBRV24KW7F"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-KBRV24KW7F');
    </script>

    <style>
        /* อนิเมชั่นสำหรับ header (Fade in) */
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* อนิเมชั่นสำหรับข้อความวิ่ง */
        @keyframes marquee {
            0% { transform: translateX(100%); } /* เริ่มจากขวา */
            100% { transform: translateX(-100%); } /* ไปซ้ายสุด */
        }

        html, body {
            margin: 0;
            padding: 0 10px; /* รวม padding ที่นี่ */
            /* สำคัญสำหรับ Sticky Footer */
            min-height: 100vh; /* กำหนดความสูงขั้นต่ำของ body ให้เต็ม viewport height */
            display: flex; /* ทำให้ body เป็น Flex container */
            flex-direction: column; /* จัดเรียงลูกๆ ในแนวตั้ง */
            align-items: center; /* จัดกึ่งกลางเนื้อหาใน body */
            justify-content: flex-start; /* แก้ไขการพิมพ์ผิดและรวมกับ html, body */

            overflow-x: hidden;
            background-color: #1a1a1a; /* สีพื้นหลังดำเข้ม */
            color: #f0f0f0; /* สีข้อความหลักเป็นสีขาวอมเทา */
            font-family: 'Arial', sans-serif;
            text-align: center;

            /* CSS สำหรับป้องกันการเลือกข้อความ */
            -webkit-user-select: none;  /* Safari */
            -moz-user-select: none;     /* Firefox */
            -ms-user-select: none;      /* IE 10+ */
            user-select: none;          /* Standard */
        }

        header {
            background-color: #1a1a1a; /* เปลี่ยนเป็นสีเดียวกับพื้นหลัง body */
            color: #FFFFFF; /* ข้อความสีขาว */
            padding: 2vw 4vw;
            border-radius: 8px;
            margin: 5vh 0 2vh 0; /* ปรับ margin-bottom ให้มีที่ว่างด้านล่าง header */
            animation: fadeIn 3s ease-out;
            width: 100%;
            box-sizing: border-box;
            border: 2px solid #1a1a1a; /* เปลี่ยนเป็นสีเดียวกับพื้นหลัง body */
            box-shadow: none; /* ลบเงาออก */
            overflow: hidden; /* สำคัญ: ซ่อนส่วนที่เกินของข้อความวิ่ง */
        }

        /* สไตล์สำหรับข้อความวิ่ง */
        #running-text-container {
            width: 100%;
            margin-bottom: 5px; /* ระยะห่างจาก h1 */
            position: relative; /* สำหรับให้ running-text วิ่งได้ */
            height: 20px; /* กำหนดความสูงเพื่อให้ข้อความวิ่งมีที่อยู่ */
            overflow: hidden; /* ซ่อนข้อความที่อยู่นอก container */
        }

        #running-text {
            display: inline-block; /* ทำให้ข้อความอยู่บนบรรทัดเดียว */
            white-space: nowrap; /* ป้องกันไม่ให้ข้อความขึ้นบรรทัดใหม่ */
            color: #ff4d4d; /* สีแดงสด */
            font-family: 'Kanit', sans-serif;
            font-size: clamp(12px, 2vw, 16px); /* ขนาดตัวอักษรเล็กและ responsive */
            font-weight: 700; /* ตัวหนา */
            animation: marquee 15s linear infinite; /* 15s คือความเร็ว, linear คือความสม่ำเสมอ, infinite คือวนซ้ำ */
            position: absolute;
            top: 0;
            left: 0;
            min-width: 100%; /* ให้ข้อความวิ่งครอบคลุมความกว้าง */
        }

        /* เมื่อชี้เมาส์ไปที่ข้อความวิ่ง จะหยุด */
        #running-text:hover {
            animation-play-state: paused;
        }


        h1 {
            color: #FFFFFF;
            text-align: center;
            font-family: 'Kanit', sans-serif;
            font-size: clamp(24px, 5vw, 40px);
            font-weight: 900;
            letter-spacing: 2px;
            text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.6), 0 0 15px rgba(255, 255, 255, 0.4);
            margin-top: 1px;
            margin-bottom: 10px; /* เพิ่ม margin-bottom เพื่อให้มีที่ว่างจากเวลา/วันที่ */
        }

        /* สไตล์สำหรับแสดงเวลาและวันที่ */
        #current-datetime {
            font-family: 'Kanit', sans-serif;
            font-size: clamp(14px, 2.5vw, 20px); /* ขนาด responsive สำหรับเวลา/วันที่ */
            color: rgba(255, 255, 255, 0.8); /* สีขาวจางๆ */
            margin-top: 10px;
            margin-bottom: 10px; /* ลด margin-bottom เพื่อให้มีที่สำหรับไลน์กลุ่ม */
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
            font-weight: 400; /* น้ำหนักตัวอักษรปกติ */
        }

        /* สไตล์สำหรับกลุ่มไลน์ */
        /* ลิงก์ LINE นี้จะถูกจัดการด้วย JS เพื่อซ่อน URL และให้คลิกได้ */
        #line-group-info {
            font-family: 'Kanit', sans-serif;
            font-size: clamp(14px, 2.5vw, 20px); /* ขนาดตัวอักษรเท่ากับเวลา/วันที่ */
            color: #2196F3; /* สีฟ้าไลน์ (ข้อความ) */
            margin-top: 10px; /* ระยะห่างจากเวลา/วันที่ */
            margin-bottom: 20px; /* ระยะห่างจากส่วน categories */
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            font-weight: 700; /* ตัวหนา */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer; /* แสดงว่าคลิกได้ */
            text-decoration: none; /* ลบขีดเส้นใต้ลิงก์ */
        }

        #line-group-info:hover {
            color: #1976D2; /* สีฟ้าเข้มขึ้นเมื่อ hover */
        }

        /* สไตล์สำหรับไอคอน Font Awesome */
        #line-group-info i {
            font-size: 25px; /* ขนาดไอคอน */
            vertical-align: middle;
            color: #00B900; /* เปลี่ยนสีไอคอน LINE เป็นสีเขียว */
        }

        #line-group-info i.fa-brands.fa-line.left-icon {
            margin-right: 8px; /* ระยะห่างจากข้อความด้านซ้าย */
        }

        #line-group-info i.fa-brands.fa-line.right-icon {
            margin-left: 8px; /* ระยะห่างจากข้อความด้านขวา */
        }

        /* Container สำหรับหมวดหมู่ทั้งหมด */
        main.categories-container { /* เพิ่ม class main.categories-container เพื่อความแม่นยำ */
            display: flex; /* ใช้ Flexbox */
            flex-wrap: wrap; /* สำคัญ: อนุญาตให้ขึ้นบรรทัดใหม่บนหน้าจอเล็ก */
            justify-content: center; /* จัดกึ่งกลาง */
            gap: 15px; /* ระยะห่างระหว่างหมวดหมู่ */
            width: 100%;
            max-width: 1200px; /* ความกว้างสูงสุด (สำหรับ Desktop) */
            margin-top: 20px; /* ปรับ margin-top ให้เชื่อมกับ line-group-info */
            overflow-x: hidden; /* ซ่อน scrollbar แนวนอนเมื่อ flex-wrap ทำงาน */
            padding-bottom: 10px;
            flex-grow: 1; /* ทำให้ main ขยายตัวเพื่อกินพื้นที่ว่างทั้งหมด */
        }

        /* สไตล์สำหรับแต่ละหมวดหมู่ */
        .category { /* สไตล์สำหรับกล่องหมวดหมู่ปกติ */
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 5px;
            flex: 0 0 auto;
            width: 220px; /* กำหนดความกว้างคงที่ */
            box-sizing: border-box;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 1px solid #1a1a1a;
            height: auto;
            box-shadow: none; /* ไม่มีเงาในสถานะปกติ */
        }

        .category:hover {
            transform: translateY(-2px);
            box-shadow: none; /* ลบเงาเมื่อ hover */
        }

        /* Media Queries สำหรับ Responsive Design */
        @media (max-width: 768px) { /* สำหรับแท็บเล็ตและมือถือ */
            .categories-container {
                gap: 10px; /* ลดระยะห่าง */
            }
            .category {
                width: calc(50% - 15px); /* 2 กล่องต่อแถวบนแท็บเล็ตเล็ก */
                max-width: unset; /* ลบ max-width เดิมออก */
            }
        }

        @media (max-width: 480px) { /* สำหรับมือถือขนาดเล็ก */
            .categories-container {
                gap: 10px;
                padding: 0 5px 10px 5px; /* เพิ่ม padding ด้านข้างเล็กน้อย */
            }
            .category {
                width: calc(100% - 10px); /* 1 กล่องต่อแถวบนมือถือ */
                margin-left: auto; /* จัดกึ่งกลาง */
                margin-right: auto;
            }
        }

        /* สไตล์ของปุ่มชื่อหมวดหมู่ (Accordion Button) - ทั่วไป */
        .accordion-button {
            background-color: #424242; /* สีเทาอ่อนลง (Material Design Grey 800) */
            color: #FFFFFF; /* ข้อความสีขาว */
            font-size: 1.3em;
            font-weight: bold;
            padding: 7px 14px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            text-align: center;
            margin-bottom: 0;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease, border-color 0.3s ease; /* เพิ่ม border-color ใน transition */
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;

            /* เปลี่ยนขอบและเพิ่มเงา */
            border: 1px solid #FFFFFF; /* ขอบสีขาวบางลง */
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.3); /* เงาสีขาว */
        }

        .accordion-button:hover {
            background-color: #616161; /* สีเทาเข้มขึ้น (Material Design Grey 700) เมื่อ hover */
            transform: translateY(-3px);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.6); /* เงาเข้มขึ้นเมื่อ hover */
            border-color: #FFFFFF; /* ขอบยังคงเป็นสีขาวเมื่อ hover */
        }

        /* สไตล์สำหรับเนื้อหาที่ซ่อน/แสดงได้ (Accordion Content) - ทั่วไป */
        .accordion-content {
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out, opacity 0.3s ease-out;

            display: none; /* ซ่อนเริ่มต้น */
            opacity: 0;

            width: 100%;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
        }

        .accordion-content.show {
            display: flex; /* แสดงเมื่อถูกเปิด */
            /* max-height, padding, opacity จะถูกควบคุมด้วย JS เพื่อให้ smooth transition */
            opacity: 1; /* กำหนดไว้ใน CSS เพื่อให้ง่ายต่อการเห็น transition */
        }

        /* สไตล์สำหรับรูปภาพ TV/กีฬา/หนัง */
        main img {
            border-radius: 8px;
            border: 1px solid #FFFFFF; /* เปลี่ยนเป็นสีขาว */
            padding: 3px;
            margin: 0;
            height: 50px;
            width: 50px;
            object-fit: cover;
            vertical-align: middle;
            transition: transform 0.2s ease; /* ลบ box-shadow ออกจาก transition */
            cursor: pointer;
            box-shadow: none; /* ลบ box-shadow ออกจากที่นี่ */
        }

        main img:hover {
            transform: scale(1.05);
            box-shadow: none; /* ลบ box-shadow ออกจากที่นี่ */
        }

        footer {
            /* สำหรับ Sticky Footer */
            margin-top: auto; /* ทำให้ footer ถูกดันไปอยู่ด้านล่างสุด */
            /* สิ้นสุดสำหรับ Sticky Footer */
            padding: 20px;
            color: #f0f0f0;
            background-color: #1a1a1a; /* เปลี่ยนเป็นสีเดียวกับพื้นหลัง body */
            width: 100%;
            text-align: center;
            border-top: none; /* ลบเส้นขอบด้านบนออก */
        }
    </style>
</head>
<body>
    <header>
        <div id="running-text-container">
            <div id="running-text">
                ยินดีต้อนรับสู่เว็บไซต์ทีวีออนไลน์! โปรดเพลิดเพลินกับการรับชมรายการโปรดของคุณ! ข่าวสารล่าสุดจาก DS!
            </div>
        </div>
        <h1>ทีวีออนไลน์</h1>
        <div id="current-datetime"></div>
        <a href="javascript:void(0);" id="line-group-info" class="line-link" data-url="https://line.me/ti/g2/7xI-GwYG_G9qyuLqXhj79IwFj4Gv1-6boc5DuA?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank">
            <i class="fa-brands fa-line left-icon"></i> เข้ากลุ่มไลน์อัพเดทต่างๆ
            <i class="fa-brands fa-line right-icon"></i> </a>

    </header>

    <main class="categories-container">
        <div class="category">
            <button class="accordion-button">ทีวีดิจิตอลไทย</button>
            <div class="accordion-content">
                <a href="#" class="channel-link" data-url="intent://cdn-edge-ott.prd.go.th/live_vlc/smil:c30f-97f7-c767-ca64-98aa/chunklist.m3u8#Intent;package=com.wiseplay;S.referer=https://ais-vidnt.com/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://ais-s.ais-vidnt.com/ais/play/origin/LIVE//channelicon/0001.png" border="1px" alt="ช่อง 1"></a>
                <a href="#" class="channel-link" data-url="intent://thaipbs-live.cdn.byteark.com/live/playlist_1080p/index.m3u8#Intent;package=com.wiseplay;S.userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://ais-s.ais-vidnt.com/ais/play/origin/LIVE//channelicon/0014.png" border="1px" alt="Thai PBS"></a>
                <a href="#" class="channel-link" data-url="intent://tv.kgtv.vn/live/kgtv1/kgtv1.m3338#Intent;package=com.wiseplay;S.userAgent=android;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsUd8JPlLJ92zYIYKQDV-5zz1PJXKRD4XKHQ&s" border="1px" alt="KTV"></a>
            </div>
        </div>

        <div class="category">
            <button class="accordion-button">กีฬา</button>
            <div class="accordion-content">
                <a href="#" class="channel-link" data-url="intent://cdn1.googlecdnforstreaming.live/live/trueballthai1/chunks.m3u8#Intent;package=com.wiseplay;S.referer=https://warpdooball.net/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://cms.dmpcdn.com/livetv/2023/08/02/89262f60-30e1-11ee-b445-3703761d6f4d_webp_original.webp" border="1px" alt="Trueball Thai 1"></a>
                <a href="#" class="channel-link" data-url="intent://dookeela.live/live-tv/skysportsgolf#Intent;package=com.wiseplay;S.referer=https://dookeela.live/no&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTydoiYuJmSJkTH21Gio4spyaBHTROsdQI3uA&usqp=CAU" border="1px" alt="Sky Sports Golf"></a>
                <a href="#" class="channel-link" data-url="intent://dookeela.live/live-tv/3bbsports1#Intent;package=com.wiseplay;S.referer=https://dookeela.live/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://ais-s.ais-vidnt.com/ais/play/origin/LIVE///channelicon//3BBsports1_new.png" border="1px" alt="3BB Sports 1"></a>
            </div>
        </div>

        <div class="category">
            <button class="accordion-button">หนังทีวี</button>
            <div class="accordion-content">
                <a href="#" class="channel-link" data-url="intent://dookeela.live/live-tv/ccm#Intent;package=com.wiseplay;S.referer=https://dookeela.live/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://img5.pic.in.th/file/secure-sv1/oie_d6nHaoquYtAK-1.png" border="1px" alt="CCM"></a>
                <a href="#" class="channel-link" data-url="intent://dookeela.live/live-tv/kbsworld#Intent;package=com.wiseplay;S.referer=https://dookeela.live/no&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://img5.pic.in.th/file/secure-sv1/kbs6a7bcdea887ed4d0.png" border="1px" alt="KBS World"></a>
                <a href="#" class="channel-link" data-url="intent://dookeela.live/live-tv/mtv#Intent;package=com.wiseplay;S.referer=https://dookeela.live/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end"><img src="https://img5.pic.in.th/file/secure-sv1/images-406af7e9bac362e51.jpeg" border="1px" alt="MTV"></a>
            </div>
        </div>
    </main>

    <footer>
        <p>© Copyright 2025 DonOk Co Ltd.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const datetimeDisplay = document.getElementById('current-datetime');
            const channelLinks = document.querySelectorAll('.channel-link');
            // เลือก anchor tag ทั้งหมดในหน้า ยกเว้น anchor ที่เป็นลิงก์ # หรือเป็น channel-link หรือ line-group-info
            // โค้ดนี้จะใช้จัดการลิงก์อื่นๆ ที่คุณต้องการซ่อน URL เมื่อโฮเวอร์ แต่ยังคงคลิกได้ (ยกเว้น line-group-info)
            const allClickableLinks = document.querySelectorAll('a[href]:not([href="#"]):not(.channel-link):not(#line-group-info)');

            // ใช้ Map เพื่อเก็บ original href และ title ของลิงก์ที่ต้องการซ่อน URL (ยกเว้น Line group)
            const originalLinkData = new Map();
            allClickableLinks.forEach(link => {
                originalLinkData.set(link, {
                    href: link.href,
                    title: link.getAttribute('title') || ''
                });
            });

            // ฟังก์ชันสำหรับฟอร์แมตวันที่และเวลา
            function formatDateTime(date) {
                const optionsDate = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                const datePart = date.toLocaleDateString('th-TH', optionsDate);
                const timePart = date.toLocaleTimeString('th-TH', optionsTime);
                return `${datePart} ${timePart} น.`;
            }

            // ฟังก์ชันสำหรับอัปเดตเวลาและวันที่
            function updateDateTime() {
                const now = new Date();
                datetimeDisplay.textContent = formatDateTime(now);
            }

            // อัปเดตเวลาทันทีเมื่อโหลดหน้า
            updateDateTime();
            // ตั้งค่าให้อัปเดตเวลาทุกวินาที
            setInterval(updateDateTime, 1000);

            // เพิ่ม Event Listener สำหรับ channel links พร้อม Event Tracking
            channelLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // ป้องกันการทำงานของลิงก์เริ่มต้น
                    const url = this.dataset.url; // ดึง URL จาก data-url attribute
                    const imgElement = this.querySelector('img');
                    const channelName = imgElement ? imgElement.alt : 'Unknown Channel'; // ดึงชื่อช่องจาก alt attribute

                    // ดึงชื่อหมวดหมู่จากปุ่ม accordion ที่อยู่ก่อนหน้า
                    const categoryElement = this.closest('.category');
                    const categoryName = categoryElement ? categoryElement.querySelector('.accordion-button').textContent : 'Unknown Category';

                    // ส่ง Event ไปยัง Google Analytics 4
                    if (typeof gtag === 'function') {
                        gtag('event', 'channel_click', {
                            'channel_name': channelName,
                            'category': categoryName,
                            'link_url': url
                        });
                    }

                    // หน่วงเวลาเล็กน้อยเพื่อให้ Event ส่งออกไปก่อนที่จะเปลี่ยนหน้า
                    setTimeout(() => {
                        if (url) {
                            window.location.href = url; // เปิดลิงก์
                        }
                    }, 200); // หน่วง 200 มิลลิวินาที (สามารถปรับได้)
                });
            });

            // เพิ่ม Event Listener สำหรับลิงก์ LINE Group (ที่ต้องการซ่อน URL แต่ยังคลิกได้)
            const lineGroupLink = document.getElementById('line-group-info');
            if (lineGroupLink) {
                lineGroupLink.addEventListener('click', function(event) {
                    event.preventDefault(); // ป้องกันการทำงานของลิงก์เริ่มต้น
                    const url = this.dataset.url; // ดึง URL จริงจาก data-url attribute
                    if (url) {
                        window.open(url, '_blank'); // เปิด URL ในแท็บใหม่
                    }

                    // คุณสามารถเพิ่ม Event Tracking สำหรับ GA4 ที่นี่ได้เช่นกัน (ถ้าต้องการ)
                    if (typeof gtag === 'function') {
                        gtag('event', 'line_group_click', {
                            'link_url': url
                        });
                    }
                });
            }


            // ฟังก์ชันสำหรับปิด Accordion Content (ทั่วไปสำหรับทุก Accordion)
            function closeAccordion(contentElement) {
                contentElement.classList.remove('show');
                contentElement.style.maxHeight = '0';
                contentElement.style.paddingTop = '0';
                contentElement.style.paddingBottom = '0';
                contentElement.style.opacity = '0';

                const transitionEndHandler = function() {
                    if (!contentElement.classList.contains('show')) {
                        contentElement.style.display = 'none';
                    }
                    contentElement.removeEventListener('transitionend', transitionEndHandler);
                };
                contentElement.addEventListener('transitionend', transitionEndHandler);

                const parentCategory = contentElement.closest('.category');
                if (parentCategory && parentCategory.querySelector('.accordion-button')) {
                    const buttonHeight = parentCategory.querySelector('.accordion-button').offsetHeight;
                    const categoryPadding = 5 * 2; // 5px top/bottom padding
                    const categoryBorder = 1 * 2; // 1px top/bottom border
                    parentCategory.style.height = (buttonHeight + categoryPadding + categoryBorder) + 'px';
                }
            }

            // ฟังก์ชันสำหรับเปิด Accordion Content (ทั่วไปสำหรับทุก Accordion)
            function openAccordion(contentElement) {
                contentElement.style.display = 'flex'; // แสดง display ก่อนเริ่ม transition
                contentElement.style.maxHeight = '0'; // ตั้งค่าเริ่มต้นให้เป็น 0 ก่อนคำนวณ scrollHeight
                contentElement.style.paddingTop = '0';
                contentElement.style.paddingBottom = '0';
                contentElement.style.opacity = '0';

                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        contentElement.classList.add('show');
                        const actualContentHeight = contentElement.scrollHeight;
                        let totalContentPadding = 8 + 8; // padding-top + padding-bottom ของ Accordion Content ทั่วไป

                        contentElement.style.maxHeight = (actualContentHeight + totalContentPadding) + 'px';
                        contentElement.style.paddingTop = '8px';
                        contentElement.style.paddingBottom = '8px';
                        contentElement.style.opacity = '1';

                        const parentCategory = contentElement.closest('.category');
                        if (parentCategory && parentCategory.querySelector('.accordion-button')) {
                            const buttonHeight = parentCategory.querySelector('.accordion-button').offsetHeight;
                            const categoryPadding = 5 * 2;
                            const categoryBorder = 1 * 2;
                            parentCategory.style.height = (buttonHeight + categoryPadding + categoryBorder + actualContentHeight + totalContentPadding) + 'px';
                        }
                    });
                });
            }

            // เลือกปุ่ม Accordion ทั้งหมดในหน้า
            const allAccordionButtons = document.querySelectorAll('.accordion-button');

            allAccordionButtons.forEach(button => {
                const content = button.nextElementSibling; // เนื้อหาที่ตามหลังปุ่ม

                const categoryElement = button.closest('.category');
                if (categoryElement && button) {
                    const initialHeight = (button.offsetHeight + (5 * 2) + 2) + 'px';
                    categoryElement.style.height = initialHeight;
                    categoryElement.style.transition = 'height 0.3s ease, background-color 0.3s ease, border-color 0.3s ease';
                }

                button.addEventListener('click', function() {
                    allAccordionButtons.forEach(otherButton => {
                        const otherContent = otherButton.nextElementSibling;
                        if (otherButton !== this && otherContent && otherContent.classList.contains('show')) {
                            closeAccordion(otherContent);
                        }
                    });

                    if (content && content.classList.contains('show')) {
                        closeAccordion(content);
                    } else if (content) {
                        openAccordion(content);
                    }
                });
            });


            // โค้ดป้องกันการคัดลอกและคลิกขวา
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault(); // ป้องกันการคลิกขวา
            });

            document.addEventListener('keydown', function(e) {
                // ตรวจสอบว่าไม่ได้กด Spacebar หรือ Enter
                if (e.key === ' ' || e.key === 'Enter') {
                    return; // อนุญาตให้ปุ่ม Spacebar และ Enter ทำงานได้ตามปกติ
                }

                // ป้องกัน Ctrl+C, Ctrl+X, Ctrl+V, Ctrl+U, F12
                if (e.ctrlKey && (e.key === 'c' || e.key === 'x' || e.key === 'v' || e.key === 'u')) {
                    e.preventDefault();
                }
                if (e.key === 'F12') {
                    e.preventDefault();
                }
            });

            // ปรับปรุง Event Listener สำหรับลิงก์ทั้งหมด เพื่อซ่อน/แสดง URL เมื่อ hover
            // โค้ดนี้จะใช้กับลิงก์ที่ไม่ใช่ channel-link หรือ line-group-info เท่านั้น
            allClickableLinks.forEach(link => {
                // ดึงข้อมูล href และ title เดิมจาก Map
                const originalData = originalLinkData.get(link);
                if (!originalData) return; // ควรมีข้อมูลเสมอ แต่ใส่ไว้เพื่อความปลอดภัย

                link.addEventListener('mouseover', function() {
                    // ลบ href attribute เมื่อเมาส์ชี้ เพื่อซ่อน URL ในแถบสถานะ
                    this.removeAttribute('href');
                    this.removeAttribute('title'); // ซ่อน tooltip ถ้ามี
                });

                link.addEventListener('mouseout', function() {
                    // คืนค่า href และ title เดิมเมื่อเมาส์ออกจากลิงก์
                    this.href = originalData.href;
                    this.setAttribute('title', originalData.title); // คืนค่า tooltip เดิม
                });
            });
        });
    </script>
</body>
</html>
